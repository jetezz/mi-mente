---
/**
 * Indexing Page - Migrada a AppLayout
 */
import AppLayout from '../layouts/AppLayout.astro';
import { IndexingDashboard } from '../components/IndexingDashboard';
import { PageHeader } from '../components/ui/PageHeader';
import { TipsCard, HowItWorksCard, SidebarCard } from '../components/ui/SidebarCard';
import { QuickActions } from '../components/ui/QuickActions';
---

<AppLayout 
  title="IndexaciÃ³n Vectorial - Hybrid Brain ðŸ§ " 
  description="Gestiona la indexaciÃ³n semÃ¡ntica de tu contenido"
>
  <!-- Page Header -->
  <Fragment slot="header">
    <PageHeader
      title="Motor de BÃºsqueda SemÃ¡ntica"
      subtitle="Indexa tu contenido de Notion para bÃºsqueda vectorial con IA. Mucho mÃ¡s rÃ¡pido y preciso que la bÃºsqueda directa."
      icon="ðŸ”®"
      badge={{ text: "Fase 6", variant: "primary" }}
      client:load
    />
  </Fragment>

  <!-- Main Content -->
  <Fragment slot="main">
    <IndexingDashboard client:load />
  </Fragment>

  <!-- Sidebar -->
  <Fragment slot="sidebar">
    <HowItWorksCard 
      title="ðŸ”¬ CÃ³mo funciona"
      steps={[
        "Lee pÃ¡ginas de Notion",
        "Divide en fragmentos (chunks)",
        "Genera embeddings con Cohere",
        "Almacena vectores en Supabase"
      ]}
      client:load
    />

    <!-- Arquitectura (custom card) -->
    <SidebarCard title="ðŸ—ï¸ Arquitectura" client:load>
      <div class="space-y-2 text-sm text-dark-400 font-mono">
        <p class="text-accent-cyan">Notion â†’ Texto</p>
        <p class="text-primary-400 pl-4">â†“ Chunking</p>
        <p class="text-accent-magenta pl-4">â†“ Embeddings (Cohere)</p>
        <p class="text-green-400">â†’ Supabase (pgvector)</p>
      </div>
    </SidebarCard>

    <TipsCard 
      title="âœ¨ Beneficios"
      tips={[
        "BÃºsqueda semÃ¡ntica (no keywords)",
        "Respuestas mÃ¡s precisas",
        "Menor latencia (sin llamar Notion)",
        "Escala a miles de documentos"
      ]}
      icon="âœ“"
      iconColor="text-green-400"
      client:load
    />

    <QuickActions
      actions={[
        { icon: "ðŸ’¬", label: "Chat SemÃ¡ntico", href: "/chat" },
        { icon: "âž•", label: "Procesar URLs", href: "/dashboard" },
        { icon: "ðŸ“", label: "Gestionar CategorÃ­as", href: "/categories" }
      ]}
      client:load
    />
  </Fragment>
</AppLayout>

---
import AppLayout from '../../layouts/AppLayout.astro';
import JobsList from '../../components/jobs/JobsList.tsx';
import { SidebarCard, QuickActions, TipsCard } from '../../components/ui';

const tips = [
  'Los videos se procesan en segundo plano',
  'Cuando un video est√° "Listo", puedes editarlo antes de guardarlo',
  'Los videos guardados se sincronizan con Notion'
];

const actions = [
  { icon: '‚ûï', label: 'A√±adir video', href: '/dashboard' },
  { icon: 'üí¨', label: 'Chat', href: '/chat' },
  { icon: 'üîç', label: 'Indexaci√≥n', href: '/indexing' }
];
---

<AppLayout title="Cola de Procesamiento" maxWidth="5xl">
  <!-- Main Content -->
  <div slot="main" class="lg:col-span-3 space-y-6">
    <JobsList client:load />
  </div>

  <!-- Sidebar -->
  <aside slot="sidebar" class="space-y-6">
    <!-- Quick Actions -->
    <SidebarCard title="Acciones R√°pidas" icon="‚ö°" client:load>
      <QuickActions actions={actions} client:load />
    </SidebarCard>

    <!-- C√≥mo funciona -->
    <SidebarCard title="C√≥mo funciona" icon="üìñ" client:load>
      <ol class="space-y-3 text-sm text-gray-300">
        <li class="flex gap-3">
          <span class="flex-shrink-0 w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center text-xs font-bold">1</span>
          <span>A√±ade videos desde el Dashboard</span>
        </li>
        <li class="flex gap-3">
          <span class="flex-shrink-0 w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center text-xs font-bold">2</span>
          <span>Se procesan en segundo plano</span>
        </li>
        <li class="flex gap-3">
          <span class="flex-shrink-0 w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center text-xs font-bold">3</span>
          <span>Edita y guarda cuando est√©n listos</span>
        </li>
      </ol>
    </SidebarCard>

    <!-- Tips -->
    <TipsCard tips={tips} client:load />
  </aside>
</AppLayout>

<style>
  /* Animaci√≥n para el toast de confirmaci√≥n */
  @keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }
  
  :global(.animate-fade-in) {
    animation: fade-in 0.2s ease-out;
  }
</style>

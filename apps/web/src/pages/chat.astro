---
/**
 * Chat Page - Migrada a AppLayout
 */
import AppLayout from '../layouts/AppLayout.astro';
import { ChatInterface } from '../components/ChatInterface';
import { PageHeader } from '../components/ui/PageHeader';
import { TipsCard, HowItWorksCard } from '../components/ui/SidebarCard';
import { QuickActions } from '../components/ui/QuickActions';
---

<AppLayout 
  title="Chat con tu Cerebro - Hybrid Brain ðŸ§ " 
  description="Pregunta sobre tus notas y recibe respuestas basadas en tu conocimiento"
>
  <!-- Page Header -->
  <Fragment slot="header">
    <PageHeader
      title="Chat con tu Cerebro"
      subtitle="Pregunta lo que quieras sobre el contenido que has procesado y guardado."
      icon="ðŸ§ "
      badge={{ text: "RAG", variant: "primary" }}
      client:load
    />
  </Fragment>

  <!-- Main Content -->
  <Fragment slot="main">
    <div class="card overflow-hidden">
      <ChatInterface client:load />
    </div>
  </Fragment>

  <!-- Sidebar -->
  <Fragment slot="sidebar">
    <HowItWorksCard 
      steps={[
        "Selecciona una categorÃ­a (opcional)",
        "Escribe tu pregunta",
        "La IA busca en tus notas de Notion",
        "Recibe una respuesta con fuentes citadas"
      ]}
      client:load
    />

    <TipsCard 
      tips={[
        "SÃ© especÃ­fico en tus preguntas para mejores respuestas",
        "Usa categorÃ­as para limitar el contexto de bÃºsqueda",
        "Las subcategorÃ­as tambiÃ©n se incluyen automÃ¡ticamente",
        "Haz click en las fuentes para ver el contenido original"
      ]}
      client:load
    />

    <QuickActions
      actions={[
        { icon: "âž•", label: "Procesar nuevo contenido", href: "/dashboard" },
        { icon: "ðŸ”®", label: "IndexaciÃ³n semÃ¡ntica", href: "/indexing" },
        { icon: "ðŸ“", label: "Abrir Notion", href: "https://notion.so", external: true }
      ]}
      client:load
    />
  </Fragment>
</AppLayout>
